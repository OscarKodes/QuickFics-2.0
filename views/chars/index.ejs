<%- include ../partials/header %>

    <!-- Author control panel -->
    <% if (currentUser && currentUser._id.equals(fic.author._id)) { %>
      <% let currPage = "charPage" %>
      <% include ../partials/authorControlPanel %>
    <% } else { %>
      <a class="btn btn-xl btn-secondary w-100 rounded-0"
        href="/fics/<%= fic._id %>">Back to Fic Profile</a>
    <% } %>

    <!-- Fic Heading -->
    <div class="text-center mt-4 mb-5">
      <h1 class="display-4"><%= fic.title %></h1>
      <h2>Characters</h2>
    </div>

    <!-- All characters -->
    <div class="char-card-container">
      <% fic.chars.forEach(function(char, i){ %>
        <div class="char-card p-4 bg-light text-center">
          <h3 class="char-name" style="color:<%=char.fontColor%>;
          background-color:<%=char.highlight%>;">
            <%= char.name %>
          </h3>
          <% if (currentUser && currentUser._id.equals(fic.author._id)) { %>
            <a class="text-secondary" href="/fics/<%=fic._id%>/chars/<%=i%>/edit">
              <i class="fas fa-edit"></i></a>
          <% } %>
          <p class="mt-3">
            <%= char.description %>
          </p>
        </div>
      <% }); %>
    </div>

    <!-- Author control panel -->
    <a class="btn btn-xl btn-secondary w-100 rounded-0 mt-5"
      href="/fics/<%= fic._id %>">Back to Fic Profile</a>


<%- include ../partials/footer %>
